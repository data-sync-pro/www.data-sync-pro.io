{
  "id": "auto‑close-stagnant-cases",
  "title": "Auto‑Close Stagnant Cases",
  "category": "Batch",
  "DSPVersions": [],
  "overview": "Automatically close any open Cases that have not been updated for 10 business days. A nightly batch job fetches Cases based on Status and LastModifiedDate, then sets Status to Closed.",
  "whenToUse": "",
  "generalImages": [],
  "prerequisites": [
    {
      "description": "",
      "quickLinks": []
    }
  ],
  "direction": "",
  "connection": "",
  "walkthrough": [
    {
      "step": "Create Executable",
      "config": [
        {
          "field": "Source Object API Name",
          "value": "Case"
        },
        {
          "field": "Target Object API Name",
          "value": "Case"
        },
        {
          "field": "Source Matching Field",
          "value": "Id"
        },
        {
          "field": "Target Matching Field",
          "value": "Id"
        },
        {
          "field": "Action",
          "value": "Update"
        },
        {
          "field": "Executable Name",
          "value": "Auto‑Close Stagnant Cases"
        },
        {
          "field": "Executable API Name",
          "value": "Auto_Close_Stagnant_Cases"
        },
        {
          "field": "Batchable?",
          "value": "TRUE"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/batch-create-executable-image.png",
          "alt": "",
          "imageKey": "batch-create-executable-image.png"
        }
      ]
    },
    {
      "step": "Retrieve",
      "config": [
        {
          "field": "SOQL Query",
          "value": "SELECT CaseNumber, Status, Priority, Subject, Origin, Type, Reason, SuppliedEmail, TYPEOF Owner WHEN User THEN Name ELSE Name END FROM Case WHERE IsClosed = FALSE AND Status IN ('Pending Customer Response','Pending Internal Review','Awaiting Approval')"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/batch-retrieve-image.jpg",
          "alt": "",
          "imageKey": "batch-retrieve-image.jpg"
        }
      ]
    },
    {
      "step": "Scoping",
      "config": [
        {
          "field": "Scope Filter",
          "value": "TODAY() > BUSINESS_HOURS_ADD(LastModifiedDate, 10 * 8 * 60 * 60 * 1000)"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/batch-scoping-image.jpg",
          "alt": "",
          "imageKey": "batch-scoping-image.jpg"
        }
      ]
    },
    {
      "step": "Match",
      "config": [
        {
          "field": "Target Object API Name",
          "value": "Case"
        },
        {
          "field": "Target Matching Field",
          "value": "Id"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/batch-match-image.jpg",
          "alt": "",
          "imageKey": "batch-match-image.jpg"
        }
      ]
    },
    {
      "step": "Mapping",
      "config": [
        {
          "field": "Status",
          "value": ""
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/batch-mapping-image.jpg",
          "alt": "",
          "imageKey": "batch-mapping-image.jpg"
        }
      ]
    },
    {
      "step": "Action",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/batch-action-image.jpg",
          "alt": "",
          "imageKey": "batch-action-image.jpg"
        }
      ]
    }
  ],
  "downloadableExecutables": [
    {
      "filePath": "downloadExecutables/Auto_Close_Stagnant_Cases.json"
    }
  ],
  "relatedRecipes": [
    {
      "title": "",
      "url": ""
    }
  ],
  "keywords": []
}