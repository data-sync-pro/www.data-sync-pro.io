{
  "id": "4a6703a8-9ade-4816-8644-584ddcd34942",
  "title": "Calculate Rollup Summaries for Related Records ",
  "category": "Trigger",
  "DSPVersions": [],
  "overview": "Automatically calculate and update rollup summary fields on a parent record whenever related child records are inserted, updated, or deleted. A trigger on the child object listens for DML events, aggregates relevant data (such as SUM, COUNT, MIN, MAX), and updates the parent record's summary fields accordingly.",
  "whenToUse": "",
  "generalImages": [],
  "prerequisites": [
    {
      "description": "",
      "quickLinks": []
    }
  ],
  "direction": "",
  "connection": "",
  "walkthrough": [
    {
      "step": "Create Executable",
      "config": [
        {
          "field": "Source Object API Name",
          "value": "Account"
        },
        {
          "field": "Target Object API Name",
          "value": "Account"
        },
        {
          "field": "Source Matching Field",
          "value": "Id"
        },
        {
          "field": "Target Matching Field",
          "value": "Id"
        },
        {
          "field": "Action",
          "value": "Update"
        },
        {
          "field": "Executable Name",
          "value": "Account Self-Adaptive Trigger(Aggregations)"
        },
        {
          "field": "Executable API Name",
          "value": "Account_Self_Adaptive_Trigger_Aggregations"
        },
        {
          "field": "Batchable?",
          "value": "TRUE"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-create-executable-image.png",
          "alt": ""
        }
      ]
    },
    {
      "step": "Trigger Settings",
      "config": [
        {
          "field": "Before Update Trigger?",
          "value": "TRUE"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-trigger-settings-image.jpg",
          "alt": ""
        }
      ]
    },
    {
      "step": "Scoping",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-scoping-image.jpg",
          "alt": ""
        }
      ]
    },
    {
      "step": "Match",
      "config": [
        {
          "field": "Target Object API Name",
          "value": "Account"
        },
        {
          "field": "Target Matching Field",
          "value": "Id"
        },
        {
          "field": "Target Connection Name",
          "value": "Current"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-match-image.jpg",
          "alt": ""
        }
      ]
    },
    {
      "step": "Mapping",
      "config": [
        {
          "field": "Max_Opportunities_Amount_Open__c",
          "value": "AGG_MAX(\"Opportunity\", \"Amount\", \"AccountId\", Id,\"IsClosed = False\")"
        },
        {
          "field": "Number_Of_Cases_Open__c",
          "value": "AGG_COUNT(\"Case\", \"Id\", \"AccountId\", Id, \"IsClosed = False\")"
        },
        {
          "field": "Number_Of_Opportunities_Open__c",
          "value": "AGG_COUNT(\"Opportunity\", \"Id\", \"AccountId\", Id, \"IsClosed = False\")"
        },
        {
          "field": "Number_Of_Opportunities_Won_This_Year__c",
          "value": "AGG_COUNT(\"Opportunity\", \"Id\", \"AccountId\", Id, \"StageName = 'ClosedWon'\")"
        },
        {
          "field": "Number_of_Cases__c",
          "value": "AGG_COUNT(\"Case\", \"Id\", \"AccountId\", Id)"
        },
        {
          "field": "Number_of_Contacts__c",
          "value": "AGG_COUNT(\"Contact\", \"Id\", \"AccountId\", Id)"
        },
        {
          "field": "Total_Opportunity_Amount_Open__c",
          "value": "AGG_SUM(\"Opportunity\", \"Amount\", \"AccountId\", Id,\"IsClosed = False\")"
        },
        {
          "field": "Total_Opportunity_Amount_Won_This_Year__c",
          "value": "AGG_SUM(\"Opportunity\", \"Amount\", \"AccountId\", Id,\"StageName= 'ClosedWon'\")"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-mapping-image.jpg",
          "alt": ""
        }
      ]
    },
    {
      "step": "Action",
      "config": [
        {
          "field": "Target Object API Name",
          "value": "Account"
        },
        {
          "field": "Action",
          "value": "Update"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-action-image.jpg",
          "alt": ""
        }
      ]
    },
    {
      "step": "Preview",
      "config": [
        {
          "field": "SOQL Query",
          "value": "SELECT Name, Type, Industry, Rating, AnnualRevenue, AccountNumber, Phone, Website, NumberOfEmployees, BillingCity, BillingState, Owner.Name FROM Account"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-preview-image.jpg",
          "alt": ""
        }
      ]
    },
    {
      "step": "Preview Transformed",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-preview-transformed-image.jpg",
          "alt": ""
        }
      ]
    }
  ],
  "downloadableExecutables": [],
  "relatedRecipes": [
    {
      "title": "",
      "url": ""
    }
  ],
  "keywords": []
}