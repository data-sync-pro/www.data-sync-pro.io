{
  "id": "calculate-rollup-summaries-for-related-records",
  "title": "Calculate Rollup Summaries for Related Records",
  "category": "Triggers",
  "DSPVersions": [],
  "usecase": "Automatically calculate and update rollup summary fields on a parent record whenever related child records are inserted, updated, or deleted. A trigger on the child object listens for DML events, aggregates relevant data (such as SUM, COUNT, MIN, MAX), and updates the parent record's summary fields accordingly.",
  "prerequisites": [
    {
      "description": "",
      "quickLinks": []
    }
  ],
  "direction": "",
  "connection": "",
  "walkthrough": [
    {
      "step": "Create Executable",
      "config": [
        {
          "field": "Source Object API Name",
          "value": "Account"
        },
        {
          "field": "Target Object API Name",
          "value": "Account"
        },
        {
          "field": "Source Matching Field",
          "value": "Id"
        },
        {
          "field": "Target Matching Field",
          "value": "Id"
        },
        {
          "field": "Action",
          "value": "Update"
        },
        {
          "field": "Executable Name",
          "value": "Account Self-Adaptive Trigger(Aggregations)"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-create-executable-image.png",
          "alt": "",
          "imageKey": "triggers-create-executable-image.png"
        }
      ]
    },
    {
      "step": "Trigger Settings",
      "config": [
        {
          "field": "Before Update Trigger?",
          "value": "True"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-trigger-settings-image.png",
          "alt": "",
          "imageKey": "triggers-trigger-settings-image.png"
        }
      ]
    },
    {
      "step": "Scoping",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-scoping-image.png",
          "alt": "",
          "imageKey": "triggers-scoping-image.png"
        }
      ]
    },
    {
      "step": "Match",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-match-image.png",
          "alt": "",
          "imageKey": "triggers-match-image.png"
        }
      ]
    },
    {
      "step": "Mapping",
      "config": [
        {
          "field": "Max_Opportunities_Amount_Open__c",
          "value": "AGG_MAX(\"Opportunity\", \"Amount\", \"AccountId\", Id,\"IsClosed = False\")"
        },
        {
          "field": "Number_Of_Cases_Open__c",
          "value": "AGG_COUNT(\"Case\", \"Id\", \"AccountId\", Id, \"IsClosed = False\")"
        },
        {
          "field": "Number_Of_Opportunities_Open__c",
          "value": "AGG_COUNT(\"Opportunity\", \"Id\", \"AccountId\", Id, \"IsClosed = False\")"
        },
        {
          "field": "Number_Of_Opportunities_Won_This_Year__c",
          "value": "AGG_COUNT(\"Opportunity\", \"Id\", \"AccountId\", Id, \"StageName = 'ClosedWon'\")"
        },
        {
          "field": "Number_of_Cases__c",
          "value": "AGG_COUNT(\"Case\", \"Id\", \"AccountId\", Id)"
        },
        {
          "field": "Number_of_Contacts__c",
          "value": "AGG_COUNT(\"Contact\", \"Id\", \"AccountId\", Id)"
        },
        {
          "field": "Total_Opportunity_Amount_Open__c",
          "value": "AGG_SUM(\"Opportunity\", \"Amount\", \"AccountId\", Id,\"IsClosed = False\")"
        },
        {
          "field": "Total_Opportunity_Amount_Won_This_Year__c",
          "value": "AGG_SUM(\"Opportunity\", \"Amount\", \"AccountId\", Id,\"StageName= 'ClosedWon'\")"
        }
      ],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-mapping-image.png",
          "alt": "",
          "imageKey": "triggers-mapping-image.png"
        }
      ]
    },
    {
      "step": "Action",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-action-button-settings-image.png",
          "alt": "",
          "imageKey": "triggers-action-button-settings-image.png"
        }
      ]
    },
    {
      "step": "Preview",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-preview-image.png",
          "alt": "",
          "imageKey": "triggers-preview-image.png"
        }
      ]
    },
    {
      "step": "Preview Transformed",
      "config": [],
      "media": [
        {
          "type": "image",
          "url": "images/triggers-preview-transformed-image.png",
          "alt": "",
          "imageKey": "triggers-preview-transformed-image.png"
        }
      ]
    }
  ],
  "downloadableExecutables": [
    {
      "title": "",
      "url": ""
    }
  ],
  "relatedRecipes": [
    {
      "title": "",
      "url": ""
    }
  ],
  "keywords": []
}